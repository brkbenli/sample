{"ast":null,"code":"var _jsxFileName = \"D:\\\\Desktop\\\\samplerfinal\\\\frontend\\\\src\\\\pages\\\\favourites.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Navbar from \"../components/Navbar\";\nimport Pagination from '../components/Pagination';\nimport SongDisplay from '../components/SongDisplay';\nimport SongPlayer from '../components/SongPlayer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst arrayBufferToBase64 = buffer => {\n  let binary = '';\n  const bytes = new Uint8Array(buffer);\n  const len = bytes.byteLength;\n  for (let i = 0; i < len; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return window.btoa(binary);\n};\nconst Favourites = () => {\n  _s();\n  const [favoriteSongs, setFavoriteSongs] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 44;\n  const [selectedSong, setSelectedSong] = useState(null);\n  const handleSongSelect = song => {\n    setSelectedSong(song);\n  };\n  useEffect(() => {\n    const fetchFavoriteSongs = async () => {\n      try {\n        const response = await axios.get('http://localhost:8081/favorite_songs');\n        const songsWithBase64Images = response.data.map(song => {\n          if (song.cover_art && song.cover_art.data) {\n            const base64String = arrayBufferToBase64(song.cover_art.data);\n            return {\n              ...song,\n              cover_art: `data:image/jpeg;base64,${base64String}`\n            };\n          } else {\n            return {\n              ...song,\n              cover_art: ''\n            };\n          }\n        });\n        setFavoriteSongs(songsWithBase64Images);\n      } catch (error) {\n        console.error('Error fetching favorite songs:', error);\n      }\n    };\n    fetchFavoriteSongs();\n  }, []);\n  const handlePageChange = page => {\n    setCurrentPage(page);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-white\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        fontFamily: 'Proxima Nova'\n      },\n      children: \"Your Favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), favoriteSongs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backgroundColor: 'transparent',\n        color: 'white',\n        fontFamily: 'Proxima Nova',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"You Currently Have No Favourites\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexGrow: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(SongDisplay, {\n        onSongSelect: handleSongSelect,\n        selectedSong: selectedSong,\n        currentPage: currentPage,\n        songsPerPage: itemsPerPage,\n        displayAll: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(SongPlayer, {\n        song: selectedSong\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), favoriteSongs.length > itemsPerPage && /*#__PURE__*/_jsxDEV(Pagination, {\n      currentPage: currentPage,\n      totalItems: favoriteSongs.length,\n      itemsPerPage: itemsPerPage,\n      onPageChange: handlePageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(Favourites, \"5/V40+ujc2mQFMa0fEwWAqqEY+Q=\");\n_c = Favourites;\nexport default Favourites;\nvar _c;\n$RefreshReg$(_c, \"Favourites\");","map":{"version":3,"names":["React","useEffect","useState","axios","Navbar","Pagination","SongDisplay","SongPlayer","jsxDEV","_jsxDEV","arrayBufferToBase64","buffer","binary","bytes","Uint8Array","len","byteLength","i","String","fromCharCode","window","btoa","Favourites","_s","favoriteSongs","setFavoriteSongs","currentPage","setCurrentPage","itemsPerPage","selectedSong","setSelectedSong","handleSongSelect","song","fetchFavoriteSongs","response","get","songsWithBase64Images","data","map","cover_art","base64String","error","console","handlePageChange","page","style","display","flexDirection","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","className","justifyContent","fontFamily","length","height","alignItems","backgroundColor","color","textAlign","flexGrow","onSongSelect","songsPerPage","displayAll","totalItems","onPageChange","_c","$RefreshReg$"],"sources":["D:/Desktop/samplerfinal/frontend/src/pages/favourites.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from \"../components/Navbar\";\r\nimport Pagination from '../components/Pagination';\r\nimport SongDisplay from '../components/SongDisplay';\r\nimport SongPlayer from '../components/SongPlayer';\r\n\r\n\r\nconst arrayBufferToBase64 = (buffer) => {\r\n    let binary = '';\r\n    const bytes = new Uint8Array(buffer);\r\n    const len = bytes.byteLength;\r\n    for (let i = 0; i < len; i++) {\r\n        binary += String.fromCharCode(bytes[i]);\r\n    }\r\n    return window.btoa(binary);\r\n};\r\n\r\nconst Favourites = () => {\r\n    const [favoriteSongs, setFavoriteSongs] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const itemsPerPage = 44;\r\n    const [selectedSong, setSelectedSong] = useState(null)\r\n\r\n    const handleSongSelect = (song) => {\r\n        setSelectedSong(song);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchFavoriteSongs = async () => {\r\n            try {\r\n                const response = await axios.get('http://localhost:8081/favorite_songs');\r\n                const songsWithBase64Images = response.data.map((song) => {\r\n                    if (song.cover_art && song.cover_art.data) {\r\n                        const base64String = arrayBufferToBase64(song.cover_art.data);\r\n                        return { ...song, cover_art: `data:image/jpeg;base64,${base64String}` };\r\n                    } else {\r\n                        return { ...song, cover_art: '' };\r\n                    }\r\n                });\r\n                setFavoriteSongs(songsWithBase64Images);\r\n            } catch (error) {\r\n                console.error('Error fetching favorite songs:', error);\r\n            }\r\n        };\r\n\r\n        fetchFavoriteSongs();\r\n    }, []);\r\n\r\n    const handlePageChange = (page) => {\r\n        setCurrentPage(page);\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: 'column', minHeight: '100vh' }}>\r\n            <Navbar />\r\n            <h1 className='text-white' style={{ display: 'flex', justifyContent: 'center', fontFamily: 'Proxima Nova' }}>\r\n                Your Favorites\r\n            </h1>\r\n            {favoriteSongs.length === 0 ? (\r\n                <div style={{\r\n                    height: '100vh',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    backgroundColor: 'transparent',\r\n                    color: 'white',\r\n                    fontFamily: 'Proxima Nova',\r\n                    textAlign: 'center',\r\n                }}>\r\n                    <h2>You Currently Have No Favourites</h2>\r\n                </div>\r\n            ) : (\r\n                <div style={{ display: 'flex', flexGrow: 1 }}>\r\n                    <SongDisplay \r\n                        onSongSelect={handleSongSelect} \r\n                        selectedSong={selectedSong} \r\n                        currentPage={currentPage} \r\n                        songsPerPage={itemsPerPage} \r\n                        displayAll={false}\r\n                    />\r\n                    <SongPlayer song={selectedSong} />\r\n                </div>\r\n            )}\r\n            {favoriteSongs.length > itemsPerPage && (\r\n                <Pagination\r\n                    currentPage={currentPage}\r\n                    totalItems={favoriteSongs.length}\r\n                    itemsPerPage={itemsPerPage}\r\n                    onPageChange={handlePageChange}\r\n                />\r\n            )}\r\n        </div>\r\n    );}\r\nexport default Favourites;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}