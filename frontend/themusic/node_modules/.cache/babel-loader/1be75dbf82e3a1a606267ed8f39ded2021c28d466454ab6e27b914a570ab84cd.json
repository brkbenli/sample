{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import logo from'../photos/logo.png';import{ImHome}from'react-icons/im';import{FaWpexplorer}from'react-icons/fa';import{FaHeartCirclePlus}from'react-icons/fa6';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const[loading,setLoading]=useState(true);const[loggedIn,setLoggedIn]=useState(false);const[username,setUsername]=useState('');useEffect(()=>{const timer=setTimeout(()=>{axios.get('http://localhost:8081/login').then(response=>{if(response.data.loggedIn){setLoggedIn(true);setUsername(response.data.user[0].name);}else{setLoggedIn(false);setUsername('');}setLoading(false);});},1000);// 1000 milliseconds = 1 second\n// Cleanup function to clear the timeout if the component unmounts before the timeout finishes\nreturn()=>clearTimeout(timer);},[]);const handleLogout=()=>{axios.post('http://localhost:8081/logout').then(()=>{setLoggedIn(false);setUsername('');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black text-white flex items-center justify-between px-3 pt-3 py-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\",className:\"w-40\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center absolute inset-x-0\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"flex items-center px-0\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/home\",children:/*#__PURE__*/_jsx(ImHome,{className:\"w-20 h-8 text-white\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/explore\",children:/*#__PURE__*/_jsx(FaWpexplorer,{className:\"w-20 h-8 text-white\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/favourites\",children:/*#__PURE__*/_jsx(FaHeartCirclePlus,{className:\"w-20 h-8 text-white\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"z-10\",children:loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):loggedIn?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white py-1.5 px-3 mr-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-black font-bold\",children:username}),/*#__PURE__*/_jsx(Link,{to:\"/home\",onClick:handleLogout,className:\"ml-2 bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded\",children:\"Logout\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white py-1.5 px-3 mr-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-black font-bold\",children:\"Log in\"})})})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","logo","ImHome","FaWpexplorer","FaHeartCirclePlus","axios","jsx","_jsx","jsxs","_jsxs","Navbar","loading","setLoading","loggedIn","setLoggedIn","username","setUsername","timer","setTimeout","get","then","response","data","user","name","clearTimeout","handleLogout","post","className","children","src","alt","to","onClick"],"sources":["D:/Desktop/samplerfinal/frontend/themusic/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../photos/logo.png';\nimport { ImHome } from 'react-icons/im';\nimport { FaWpexplorer } from 'react-icons/fa';\nimport { FaHeartCirclePlus } from 'react-icons/fa6';\nimport axios from 'axios';\n\nconst Navbar = () => {\n  const [loading, setLoading] = useState(true);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [username, setUsername] = useState('');\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      axios.get('http://localhost:8081/login').then((response) => {\n        if (response.data.loggedIn) {\n          setLoggedIn(true);\n          setUsername(response.data.user[0].name);\n        } else {\n          setLoggedIn(false);\n          setUsername('');\n        }\n        setLoading(false);\n      });\n    }, 1000); // 1000 milliseconds = 1 second\n  \n    // Cleanup function to clear the timeout if the component unmounts before the timeout finishes\n    return () => clearTimeout(timer);\n  }, []);\n\n  const handleLogout = () => {\n    axios.post('http://localhost:8081/logout').then(() => {\n      setLoggedIn(false);\n      setUsername('');\n    });\n  };\n\n  return (\n    <div className='bg-black text-white flex items-center justify-between px-3 pt-3 py-3'>\n      {/* Left Side */}\n      <div>\n        <img src={logo} alt='' className='w-40' />\n      </div>\n      <div className='flex items-center justify-center absolute inset-x-0'>\n        <ul className='flex items-center px-0'>\n          <li>\n            <Link to='/home'>\n              <ImHome className='w-20 h-8 text-white' />\n            </Link>\n          </li>\n          <li>\n            <Link to='/explore'>\n              <FaWpexplorer className='w-20 h-8 text-white'/>\n            </Link>\n          </li>\n          <li>\n            <Link to='/favourites'>\n              <FaHeartCirclePlus className='w-20 h-8 text-white' />\n            </Link>\n          </li>\n        </ul>\n      </div>\n\n      {/* Right Side */}\n      <div className='z-10'>\n        {loading ? (\n          <div>Loading...</div>\n        ) : loggedIn ? (\n          <div className='bg-white py-1.5 px-3 mr-1'>\n            <span className='text-black font-bold'>{username}</span>\n            <Link to='/home'\n              onClick={handleLogout}\n              className='ml-2 bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded'\n            >\n              Logout\n            </Link>\n          </div>\n        ) : (\n          <div className='bg-white py-1.5 px-3 mr-2'>\n            <Link to='/login' className='text-black font-bold'>\n              Log in\n            </Link>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}