{"ast":null,"code":"import Navbar from\"../components/Navbar\";import'bootstrap/dist/css/bootstrap.min.css';import{Link,useNavigate}from'react-router-dom';import React,{useEffect,useState}from'react';import Validation from\"../components/LoginValidation.js\";import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){axios.defaults.withCredentials=true;const[values,setValues]=useState({email:'',password:''});const navigate=useNavigate();const[errors,setErrors]=useState({});const[loggedIn,setLoggedIn]=useState(false);const handleInput=event=>{setValues(prev=>({...prev,[event.target.name]:event.target.value}));};const handleSubmit=event=>{event.preventDefault();const errors=Validation(values);setErrors(errors);if(errors.email===\"\"&&errors.password===\"\"){axios.post('http://localhost:8081/login',values).then(res=>{console.log(res.data);// Log response data to see what the server returns\nif(res.data===\"Success\"){setLoggedIn(true);navigate(\"/home\");}else{alert(\"Wrong username/password\");}}).catch(err=>{console.log(err);// Log any errors that occur during the request\nalert(\"An error occurred while processing your request\");});}};useEffect(()=>{axios.get(\"http://localhost:8081/login\").then(response=>{if(response.data.loggedIn===true){setLoggedIn(response.data.loggedIn);}});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column bg-white vh-100\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center bg-black vh-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-3 rounded w-25\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-0\",onChange:handleInput,placeholder:\"Enter Email\",name:\"email\"}),errors.email&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[\" \",errors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control rounded-0\",onChange:handleInput,placeholder:\"Enter Password\",name:\"password\"}),errors.password&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[\" \",errors.password]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success w-100 rounded-0\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Log In\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Agreed to terms and policies\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"btn btn-default border w-100 bg-light rounded-0 text-decoration-none\",children:\"Create Account\"})]})})})]});}","map":{"version":3,"names":["Navbar","Link","useNavigate","React","useEffect","useState","Validation","axios","jsx","_jsx","jsxs","_jsxs","Login","defaults","withCredentials","values","setValues","email","password","navigate","errors","setErrors","loggedIn","setLoggedIn","handleInput","event","prev","target","name","value","handleSubmit","preventDefault","post","then","res","console","log","data","alert","catch","err","get","response","className","children","action","onSubmit","htmlFor","type","onChange","placeholder","to"],"sources":["D:/Desktop/samplerfinal/frontend/themusic/src/pages/login.js"],"sourcesContent":["import Navbar from \"../components/Navbar\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\nimport Validation from \"../components/LoginValidation.js\";\nimport axios from 'axios';\n\n\nexport default function Login() {\n\n    axios.defaults.withCredentials = true\n    \n    const [values, setValues] = useState({\n        email: '',\n        password: '',\n    })\n    const navigate = useNavigate();\n\n    const [errors, setErrors] = useState({})\n    const [loggedIn, setLoggedIn] = useState(false);\n\n    const handleInput = (event) => {\n        setValues(prev => ({...prev, [event.target.name]: event.target.value}));\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        const errors = Validation(values);\n        setErrors(errors);\n        if(errors.email === \"\" && errors.password === \"\") {\n            axios.post('http://localhost:8081/login', values) \n            .then(res => {\n                console.log(res.data); // Log response data to see what the server returns\n                if(res.data === \"Success\") {\n                    setLoggedIn(true);\n                    navigate(\"/home\");\n                } else {\n                    alert(\"Wrong username/password\");\n                }\n            })\n            .catch(err => {\n                console.log(err); // Log any errors that occur during the request\n                alert(\"An error occurred while processing your request\");\n            });\n        }\n    }\n\n    useEffect(() => {\n        axios.get(\"http://localhost:8081/login\").then((response) => {\n            if (response.data.loggedIn === true) {\n                setLoggedIn(response.data.loggedIn);\n            }\n        });\n    }, [])\n\n    return (\n        <div className=\"d-flex flex-column bg-white vh-100\">\n            <Navbar />\n            <div className=\"d-flex justify-content-center align-items-center bg-black vh-100\">\n                <div className=\"bg-white p-3 rounded w-25\">\n                    <form action=\"\" onSubmit={handleSubmit}>\n                        <div className=\"mb-3\">\n                            <label htmlFor=\"email\">Email</label>\n                            <input type=\"email\" className=\"form-control rounded-0\" \n                            onChange={handleInput} placeholder=\"Enter Email\" name='email' />\n                            {errors.email && <span className=\"text-danger\"> {errors.email}</span>}\n                        </div>\n                        <div className=\"mb-3\">\n                            <label htmlFor=\"password\">Password</label>\n                            <input type=\"password\" className=\"form-control rounded-0\" \n                            onChange={handleInput} placeholder=\"Enter Password\" name='password' />\n                            {errors.password && <span className=\"text-danger\"> {errors.password}</span>}\n                        </div>\n                        <button type='submit'className=\"btn btn-success w-100 rounded-0\"><strong>Log In</strong></button>\n                        <p>Agreed to terms and policies</p>\n                        <Link to='/signup' className=\"btn btn-default border w-100 bg-light rounded-0 text-decoration-none\">Create Account</Link>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,sBAAsB,CACzC,MAAO,sCAAsC,CAC7C,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,UAAU,KAAM,kCAAkC,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAG1B,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAE5BL,KAAK,CAACM,QAAQ,CAACC,eAAe,CAAG,IAAI,CAErC,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,CACjCY,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACd,CAAC,CAAC,CACF,KAAM,CAAAC,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACkB,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxC,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAE/C,KAAM,CAAAmB,WAAW,CAAIC,KAAK,EAAK,CAC3BT,SAAS,CAACU,IAAI,GAAK,CAAC,GAAGA,IAAI,CAAE,CAACD,KAAK,CAACE,MAAM,CAACC,IAAI,EAAGH,KAAK,CAACE,MAAM,CAACE,KAAK,CAAC,CAAC,CAAC,CAC3E,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIL,KAAK,EAAK,CAC5BA,KAAK,CAACM,cAAc,CAAC,CAAC,CACtB,KAAM,CAAAX,MAAM,CAAGd,UAAU,CAACS,MAAM,CAAC,CACjCM,SAAS,CAACD,MAAM,CAAC,CACjB,GAAGA,MAAM,CAACH,KAAK,GAAK,EAAE,EAAIG,MAAM,CAACF,QAAQ,GAAK,EAAE,CAAE,CAC9CX,KAAK,CAACyB,IAAI,CAAC,6BAA6B,CAAEjB,MAAM,CAAC,CAChDkB,IAAI,CAACC,GAAG,EAAI,CACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAAC,CAAE;AACvB,GAAGH,GAAG,CAACG,IAAI,GAAK,SAAS,CAAE,CACvBd,WAAW,CAAC,IAAI,CAAC,CACjBJ,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,IAAM,CACHmB,KAAK,CAAC,yBAAyB,CAAC,CACpC,CACJ,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,EAAI,CACVL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC,CAAE;AAClBF,KAAK,CAAC,iDAAiD,CAAC,CAC5D,CAAC,CAAC,CACN,CACJ,CAAC,CAEDlC,SAAS,CAAC,IAAM,CACZG,KAAK,CAACkC,GAAG,CAAC,6BAA6B,CAAC,CAACR,IAAI,CAAES,QAAQ,EAAK,CACxD,GAAIA,QAAQ,CAACL,IAAI,CAACf,QAAQ,GAAK,IAAI,CAAE,CACjCC,WAAW,CAACmB,QAAQ,CAACL,IAAI,CAACf,QAAQ,CAAC,CACvC,CACJ,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIX,KAAA,QAAKgC,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eAC/CnC,IAAA,CAACT,MAAM,GAAE,CAAC,cACVS,IAAA,QAAKkC,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC7EnC,IAAA,QAAKkC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACtCjC,KAAA,SAAMkC,MAAM,CAAC,EAAE,CAACC,QAAQ,CAAEhB,YAAa,CAAAc,QAAA,eACnCjC,KAAA,QAAKgC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBnC,IAAA,UAAOsC,OAAO,CAAC,OAAO,CAAAH,QAAA,CAAC,OAAK,CAAO,CAAC,cACpCnC,IAAA,UAAOuC,IAAI,CAAC,OAAO,CAACL,SAAS,CAAC,wBAAwB,CACtDM,QAAQ,CAAEzB,WAAY,CAAC0B,WAAW,CAAC,aAAa,CAACtB,IAAI,CAAC,OAAO,CAAE,CAAC,CAC/DR,MAAM,CAACH,KAAK,eAAIN,KAAA,SAAMgC,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,GAAC,CAACxB,MAAM,CAACH,KAAK,EAAO,CAAC,EACpE,CAAC,cACNN,KAAA,QAAKgC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBnC,IAAA,UAAOsC,OAAO,CAAC,UAAU,CAAAH,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1CnC,IAAA,UAAOuC,IAAI,CAAC,UAAU,CAACL,SAAS,CAAC,wBAAwB,CACzDM,QAAQ,CAAEzB,WAAY,CAAC0B,WAAW,CAAC,gBAAgB,CAACtB,IAAI,CAAC,UAAU,CAAE,CAAC,CACrER,MAAM,CAACF,QAAQ,eAAIP,KAAA,SAAMgC,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,GAAC,CAACxB,MAAM,CAACF,QAAQ,EAAO,CAAC,EAC1E,CAAC,cACNT,IAAA,WAAQuC,IAAI,CAAC,QAAQ,CAAAL,SAAS,CAAC,iCAAiC,CAAAC,QAAA,cAACnC,IAAA,WAAAmC,QAAA,CAAQ,QAAM,CAAQ,CAAC,CAAQ,CAAC,cACjGnC,IAAA,MAAAmC,QAAA,CAAG,8BAA4B,CAAG,CAAC,cACnCnC,IAAA,CAACR,IAAI,EAACkD,EAAE,CAAC,SAAS,CAACR,SAAS,CAAC,sEAAsE,CAAAC,QAAA,CAAC,gBAAc,CAAM,CAAC,EACvH,CAAC,CACN,CAAC,CACL,CAAC,EACL,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}