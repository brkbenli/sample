{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import WaveSurfer from\"wavesurfer.js\";import{BsFillStopFill,BsFillPlayFill}from'react-icons/bs';import'../pages/home.css';// Import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AudioWave(_ref){let{audiofile,songTitle,boxTitle}=_ref;const waveformRef=useRef(null);const wavesurferRef=useRef(null);const[isPlaying,setIsPlaying]=useState(false);const[volume,setVolume]=useState(0.5);useEffect(()=>{wavesurferRef.current=WaveSurfer.create({container:waveformRef.current,waveColor:\"#34374B\",progressColor:\"#F90\",url:audiofile,dragToSeek:true,height:40,hideScrollbar:true,normalize:true,barGap:1,barHeight:15,barRadius:20,barWidth:2});const handleReady=()=>{setVolume(wavesurferRef.current.getVolume());};const handlePlayPause=()=>{setIsPlaying(wavesurferRef.current.isPlaying());};wavesurferRef.current.on('ready',handleReady);wavesurferRef.current.on('play',handlePlayPause);wavesurferRef.current.on('pause',handlePlayPause);return()=>{if(wavesurferRef.current){wavesurferRef.current.un('ready',handleReady);wavesurferRef.current.un('play',handlePlayPause);wavesurferRef.current.un('pause',handlePlayPause);wavesurferRef.current.destroy();wavesurferRef.current=null;}};},[audiofile]);const handlePlayPauseButton=()=>{if(wavesurferRef.current){wavesurferRef.current.playPause();setIsPlaying(wavesurferRef.current.isPlaying());}};const handleVolumeChange=newVolume=>{setVolume(newVolume);wavesurferRef.current.setVolume(newVolume);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box-title\",children:/*#__PURE__*/_jsx(\"h2\",{children:boxTitle})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sub-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"song-title\",children:/*#__PURE__*/_jsx(\"p\",{children:songTitle})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wavesurfer-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePlayPauseButton,children:isPlaying?/*#__PURE__*/_jsx(BsFillStopFill,{}):/*#__PURE__*/_jsx(BsFillPlayFill,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",id:\"volume\",name:\"volume\",min:\"0\",max:\"1\",step:\"0.05\",value:volume,onChange:e=>handleVolumeChange(parseFloat(e.target.value))})]}),/*#__PURE__*/_jsx(\"div\",{ref:waveformRef,className:\"wavesurfer-container\"})]})]});}","map":{"version":3,"names":["useEffect","useRef","useState","WaveSurfer","BsFillStopFill","BsFillPlayFill","jsx","_jsx","jsxs","_jsxs","AudioWave","_ref","audiofile","songTitle","boxTitle","waveformRef","wavesurferRef","isPlaying","setIsPlaying","volume","setVolume","current","create","container","waveColor","progressColor","url","dragToSeek","height","hideScrollbar","normalize","barGap","barHeight","barRadius","barWidth","handleReady","getVolume","handlePlayPause","on","un","destroy","handlePlayPauseButton","playPause","handleVolumeChange","newVolume","className","children","onClick","type","id","name","min","max","step","value","onChange","e","parseFloat","target","ref"],"sources":["D:/Desktop/samplerfinal/frontend/themusic/src/components/audioplayerfile.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport WaveSurfer from \"wavesurfer.js\";\nimport { BsFillStopFill, BsFillPlayFill } from 'react-icons/bs';\nimport '../pages/home.css'; // Import the CSS file\n\nexport default function AudioWave({ audiofile, songTitle, boxTitle }) {\n    const waveformRef = useRef(null);\n    const wavesurferRef = useRef(null);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [volume, setVolume] = useState(0.5);\n\n    useEffect(() => {\n        wavesurferRef.current = WaveSurfer.create({\n            container: waveformRef.current,\n            waveColor: \"#34374B\",\n            progressColor: \"#F90\",\n            url: audiofile,\n            dragToSeek: true,\n            height: 40,\n            hideScrollbar: true,\n            normalize: true,\n            barGap: 1,\n            barHeight: 15,\n            barRadius: 20,\n            barWidth: 2,\n        });\n\n        const handleReady = () => {\n            setVolume(wavesurferRef.current.getVolume());\n        };\n\n        const handlePlayPause = () => {\n            setIsPlaying(wavesurferRef.current.isPlaying());\n        };\n\n        wavesurferRef.current.on('ready', handleReady);\n        wavesurferRef.current.on('play', handlePlayPause);\n        wavesurferRef.current.on('pause', handlePlayPause);\n\n        return () => {\n            if (wavesurferRef.current) {\n                wavesurferRef.current.un('ready', handleReady);\n                wavesurferRef.current.un('play', handlePlayPause);\n                wavesurferRef.current.un('pause', handlePlayPause);\n                wavesurferRef.current.destroy();\n                wavesurferRef.current = null;\n            }\n        };\n    }, [audiofile]);\n\n    const handlePlayPauseButton = () => {\n        if (wavesurferRef.current) {\n            wavesurferRef.current.playPause();\n            setIsPlaying(wavesurferRef.current.isPlaying());\n        }\n    };\n\n    const handleVolumeChange = (newVolume) => {\n        setVolume(newVolume);\n        wavesurferRef.current.setVolume(newVolume);\n    };\n\n    return (\n        <div className=\"container\">\n            <div className=\"box-title\">\n                <h2>{boxTitle}</h2>\n            </div>\n            <div className=\"sub-container\">\n                <div className=\"song-title\">\n                    <p>{songTitle}</p>\n                </div>\n                <div className=\"wavesurfer-controls\">\n                    <button onClick={handlePlayPauseButton}>\n                        {isPlaying ? <BsFillStopFill /> : <BsFillPlayFill />}\n                    </button>\n                    <input\n                        type=\"range\"\n                        id=\"volume\"\n                        name=\"volume\"\n                        min=\"0\"\n                        max=\"1\"\n                        step=\"0.05\"\n                        value={volume}\n                        onChange={(e) => handleVolumeChange(parseFloat(e.target.value))}\n                    />\n                </div>\n                <div ref={waveformRef} className=\"wavesurfer-container\" />\n            </div>\n        </div>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}